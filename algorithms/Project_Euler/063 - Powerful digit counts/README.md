# [Степени, равные количеству цифр](TODO)
## [Проблема](https://euler.jakumo.org/problems/view/61.html)

>Пятизначное число 16807 = 7^5 является также пятой степенью натурального числа.
>Аналогично, девятизначное число 134217728 = 8^9 является девятой степенью.
>
>Сколько существует n-значных натуральных чисел, являющихся также и n-ми степенями натуральных чисел?
``` python
solution() => 49
```

## Частное решение (1)
Ясно, что основание степени <=9, а n <=21 (9^22 - 21-значное число)
Основание степени не может быть больше 10, так как 10^n всегда имеет n+1 цифр.

```python
def solution():
    """
    Находит количество n-значных натуральных чисел, являющихся также и n-ми степенями натуральных чисел
    """
    result_count = 0

    for exp in range(1, 22):
        base = 1
        digit_count = 1
        while digit_count <= exp:
            powerful = base ** exp
            digit_count = len(str(powerful))

            if digit_count == exp:
                result_count += 1

            base += 1

    return result_count
```
```text
    Время  Замедление    Аргумент      Результат
---------  ------------  ----------  -----------
0.0003634  0.036%                             49
```

## Нормальное решение (2)

Определим верхний предел `n`:
<br>Если у нас есть число n<sup>p</sup>, то для того, чтобы оно имело p цифр, должно выполняться выражение:
10<sup>p</sup> > n<sup>p</sup> >= 10<sup>p-1</sup>.
Из этого неравенство следует, что n < 10 или n <= 9.
Вынесу n (уберу степень p): n >= 10 <sup>(p-1)/p</sup>= 10<sup>1-1/p</sup>.

Определим верхний предел `p`:
<br>Используем последнее неравенство и подставим максимальное значение n (n=9):
<br>plog(9) >= (p-1)log(10)
<br>log(10) >= p(log(10) - log(9))
<br>p(log(9/10) <= log(10)
<br>p <= log(10) / log(9/10) = 21.8543...

**Итак**, p <= 21 или p<22.
```python
def solution():
    result_count = 0
    for p in range(1, 22):
        result_count += int(10 - 10 ** (1 - 1 / p))
    return result_count
```
```text
   Время  Замедление   Результат
--------  ---------- -----------
1.11e-05  0.001%              49
```